(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),i=n.n(c),s=n(21),o=n.n(s),r=n(7),l=n(9),j=n(14),d=n(40),u=n(37),b=n(22),h=n(38),m=n(13),O=function(e){var t=e.searchTerm,n=e.handleChange;return Object(a.jsx)(d.a,{id:"search-movies",children:Object(a.jsxs)(d.a.Group,{controlId:"movie-search",children:[Object(a.jsx)(u.a,{children:Object(a.jsx)(b.a,{className:"text-left",children:Object(a.jsx)(d.a.Label,{children:"Search Movies to Nominate"})})}),Object(a.jsx)(u.a,{children:Object(a.jsx)(b.a,{children:Object(a.jsxs)(h.a,{id:"search-bar",children:[Object(a.jsx)(h.a.Prepend,{children:Object(a.jsx)(h.a.Text,{children:Object(a.jsx)(m.a,{icon:"search"})})}),Object(a.jsx)(d.a.Control,{type:"text",value:t,onChange:n})]})})})]})})},g=n(23),x=function(e){var t=e.pagination,n=Object(j.a)(t,3),i=n[0],s=n[1],o=n[2],r=Math.ceil(s/10),l=[{icon:"angle-left",text:"-",onClick:o,isShowing:1===i},{icon:"",text:"".concat(i)},{icon:"",text:"/"},{icon:"",text:"".concat(r)},{icon:"angle-right",text:"+",onClick:o,isShowing:i===r}];return Object(a.jsx)(c.Fragment,{children:l.map((function(e,t){return e.icon?Object(a.jsx)(g.a,{size:"sm",variant:"outline-secondary",className:e.isShowing?"hidden":"",onClick:function(){return e.onClick(e.text)},type:"button",children:Object(a.jsx)(m.a,{icon:e.icon})},"pagination-button".concat(e.icon)):Object(a.jsx)("span",{className:"paginationNumbers",children:e.text},"pagination-span-".concat(e.text,"-").concat(t))}))})},f=function(e){var t=e.title,n=e.buttonText,c=e.data,i=e.onClick,s=e.outerClassName,o=void 0===s?"":s,r=e.imdbID,l=void 0===r?void 0:r,j=e.pagination,u=void 0===j?void 0:j;return Object(a.jsxs)(d.a,{className:"unordered-list ".concat(o),children:[Object(a.jsx)("h5",{className:"text-left",id:n.toLowerCase(),children:t},"header-".concat(n.toLowerCase())),Object(a.jsx)("ul",{children:c.length?c.map((function(e,t){var c=l&&(l.size>=5||l.has(e.imdbID))?"disabled":"";return Object(a.jsx)("li",{className:"text-left",children:Object(a.jsxs)("div",{className:"li-cards",children:[Object(a.jsx)("span",{className:"li-title",children:e.Title}),Object(a.jsxs)("span",{className:"li-year",children:["(",e.Year,")"]}),Object(a.jsx)(g.a,{variant:"disabled"===c?"outline-secondary":"success",type:"button",onClick:function(){return i(e)},className:"".concat(c),children:n})]})},"li-".concat(n,"-").concat(t))})):null}),u&&u[1]>10&&Object(a.jsx)(x,{pagination:u})]})},p=function(e){var t=e.data,n=e.searchTerm,c=e.onClick,i=e.pagination,s={title:'Results for "'.concat(n||"",'"'),buttonText:"Nominate"};return Object(a.jsx)(f,{title:s.title,buttonText:s.buttonText,data:t.searchResults,onClick:c,imdbID:t.setId,pagination:i,outerClassName:"result-list"})},v=function(e){var t=e.data,n=e.onClick,c=" Your Nominationed Movies",i="Remove";return Object(a.jsx)(f,{title:c,buttonText:i,data:t,onClick:n,outerClassName:"nomination-list"})},N=n(41),I=function(e){var t=e.size;return Object(a.jsxs)(u.a,{className:"nomination-row",children:[Object(a.jsxs)(b.a,{children:[t>=5&&Object(a.jsx)(c.Fragment,{children:Object(a.jsx)("p",{children:"You have nominated 5 Movies!"})}),t<5&&Object(a.jsx)(c.Fragment,{children:Object(a.jsxs)("p",{children:["You have nominated ",t," out of 5 movies"]})})]}),Object(a.jsx)(b.a,{className:"progress-bar-col",children:Object(a.jsx)(N.a,{now:20*t,label:"".concat(t," out of 5"),variant:5===t?"sucess":"info",srOnly:!0})})]})},T=n(39),C=function(e){return fetch("http://www.omdbapi.com/?".concat(e,"&apikey=bef97d")).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.split(" ").join("+"),a="s=".concat(n,"&page=").concat(t);return C(a)},S=function(){var e=window.localStorage.getItem("savedNoms")?JSON.parse(window.localStorage.getItem("savedNoms")):[],t=window.localStorage.getItem("savedIds")?JSON.parse(window.localStorage.getItem("savedIds")):[],n=Object(c.useRef)(null),i=Object(c.useState)({searchResults:[],nominatedMovies:e,searchTerm:"",setId:new Set(Object(l.a)(t)),isTyping:!1,pageNumber:1,totalResults:0,isChangingPage:!1}),s=Object(j.a)(i,2),o=s[0],d=s[1],h=function(){d((function(e){return Object(r.a)(Object(r.a)({},e),{},{isTyping:!1})}))};return Object(c.useEffect)((function(){o.nominatedMovies.length&&(window.localStorage.setItem("savedNoms",JSON.stringify(o.nominatedMovies)),window.localStorage.setItem("savedIds",JSON.stringify(Object(l.a)(o.setId))))}),[o.nominatedMovies,o.setId]),Object(c.useEffect)((function(){var e=setTimeout(h,1500);return function(){return clearTimeout(e)}}),[o.searchTerm]),Object(c.useEffect)((function(){o.searchTerm&&!o.isTyping&&w(o.searchTerm).then((function(e){d((function(t){var n=e.Search?e.totalResults:0;return Object(r.a)(Object(r.a)({},t),{},{searchResults:e.Search?e.Search:[],totalResults:n,pageNumber:1,isChangingPage:!1})}))}))}),[o.isTyping,o.searchTerm]),Object(c.useEffect)((function(){o.searchTerm&&o.isChangingPage&&w(o.searchTerm,o.pageNumber).then((function(e){d((function(t){var n=e.Search?e.totalResults:0;return Object(r.a)(Object(r.a)({},t),{},{searchResults:e.Search?e.Search:[],totalResults:n,isChangingPage:!1})}))}))}),[o.isChangingPage]),Object(c.useEffect)((function(){o.setId.size>=5&&n.current.scrollIntoView()}),[o.setId]),Object(a.jsxs)("div",{children:[Object(a.jsx)(T.a,{fluid:!0,children:Object(a.jsxs)(u.a,{className:"top-bar",ref:n,children:[Object(a.jsx)(b.a,{sm:2,className:"header-logo",children:Object(a.jsx)("header",{className:"text-left",children:Object(a.jsx)("h1",{children:"Shoppies"})})}),Object(a.jsx)(b.a,{className:"nomination-bar",children:Object(a.jsx)(I,{size:o.setId.size})})]})}),Object(a.jsx)(T.a,{fluid:!0,children:Object(a.jsxs)(u.a,{children:[Object(a.jsx)(b.a,{sm:2,className:"nomination-results",children:Object(a.jsx)(v,{data:o.nominatedMovies,onClick:function(e){d((function(t){return Object(r.a)(Object(r.a)({},t),{},{nominatedMovies:Object(l.a)(t.nominatedMovies.filter((function(t){return t.imdbID!==e.imdbID}))),setId:new Set(Object(l.a)(t.setId).filter((function(t){return t!==e.imdbID})))})}))}})}),Object(a.jsxs)(b.a,{sm:10,children:[Object(a.jsx)(O,{searchTerm:o.searchTerm,handleChange:function(e){var t=e.target.value;d((function(e){return Object(r.a)(Object(r.a)({},e),{},{searchTerm:t,isTyping:!0})}))}}),Object(a.jsx)(p,{data:o,searchTerm:o.searchTerm,onClick:function(e){d((function(t){return Object(r.a)(Object(r.a)({},t),{},{nominatedMovies:[].concat(Object(l.a)(t.nominatedMovies),[{Title:e.Title,Year:e.Year,imdbID:e.imdbID}]),setId:new Set(Object(l.a)(t.setId.add(e.imdbID)))})}))},pagination:[o.pageNumber,o.totalResults,function(e){d((function(t){return Object(r.a)(Object(r.a)({},t),{},{pageNumber:"+"===e?t.pageNumber+1:t.pageNumber-1,isChangingPage:!0})}))}]})]})]})})]})},y=(n(35),n(8)),k=n(15);y.b.add(k.c,k.a,k.b);var M=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(S,{})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(M,{})}),document.getElementById("root")),R()}},[[36,1,2]]]);
//# sourceMappingURL=main.f334b434.chunk.js.map